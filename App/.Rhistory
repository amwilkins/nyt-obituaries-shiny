active_notebooks %>%
ggplot(aes(x=date,y=`total active notebooks`))+
geom_point() +
geom_smooth()+
labs(title="Total Active Notebooks",
y="Active Notebooks",
x="Date")
active_notebooks %>%
ggplot(aes(x=date,y=`total notebooks`))+
geom_point() +
geom_smooth()+
labs(title="Total Notebooks",
y="Active Notebooks",
x="Date")
#active_notebooks
active_notebooks %>%
ggplot(aes(x=date,y=`total active notebooks`))+
geom_point() +
geom_smooth()+
labs(title="Current Active Notebooks",
y="Active Notebooks",
x="Date")
active_notebooks %>%
ggplot(aes(x=date,y=`total notebooks`))+
geom_point() +
geom_smooth()+
labs(title="Total Notebooks",
y="Active Notebooks",
x="Date")
#active_notebooks
active_notebooks %>%
ggplot(aes(x=date,y=`total active notebooks`))+
geom_point() +
geom_smooth(se=F)+
labs(title="Current Active Notebooks",
y="Active Notebooks",
x="Date")
active_notebooks %>%
ggplot(aes(x=date,y=`total notebooks`))+
geom_point() +
geom_smooth(se=F)+
labs(title="Total Notebooks",
y="Active Notebooks",
x="Date")
#Loading in data and cleaning date fields
active_notebooks <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/active_notebook_log.csv", show_col_types = FALSE)
active_notebooks$date <- lubridate::mdy(active_notebooks$date)
user_accounts <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/user_accounts.csv", show_col_types = FALSE)
weekly_logins <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/weekly_logins.csv", show_col_types = FALSE)
weekly_logins$Date <- lubridate::mdy(weekly_logins$Date)
vis_report <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/VizUserReport-11-10-2021.csv", show_col_types = FALSE)
full <- read_csv("eba3124d-f5ea-43c9-a346-3b0d192d1ff1.csv", show_col_types = FALSE)
usage <- readxl::read_xlsx("Oct 7 2021 Usage W CUST TYPE.xlsx",sheet=1, na="Vis",skip=2)
usage$Transaction_YYYYMM <- sub("(.{4})(.*)", "\\1-\\2", usage$Transaction_YYYYMM)
usage$Transaction_YYYYMM <- lubridate::ym(usage$Transaction_YYYYMM)
vis_usage <- usage %>% filter(is.na(`Workbench ID`))
#Loading in data and cleaning date fields
active_notebooks <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/active_notebook_log.csv", show_col_types = FALSE)
active_notebooks$date <- lubridate::mdy(active_notebooks$date)
user_accounts <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/user_accounts.csv", show_col_types = FALSE)
weekly_logins <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/weekly_logins.csv", show_col_types = FALSE)
weekly_logins$Date <- lubridate::mdy(weekly_logins$Date)
vis_report <- read_csv("~/Projects/UserAnalytics/Weekly Analytics Resources/VizUserReport-11-10-2021.csv", show_col_types = FALSE)
full <- read_csv("eba3124d-f5ea-43c9-a346-3b0d192d1ff1.csv", show_col_types = FALSE)
usage <- readxl::read_xlsx("Oct 7 2021 Usage W CUST TYPE.xlsx",sheet=1, na="Vis",skip=2);
usage$Transaction_YYYYMM <- sub("(.{4})(.*)", "\\1-\\2", usage$Transaction_YYYYMM)
usage$Transaction_YYYYMM <- lubridate::ym(usage$Transaction_YYYYMM)
vis_usage <- usage %>% filter(is.na(`Workbench ID`))
library(tidyverse)
df <- read_csv("C:\Users\AWilkins\OneDrive - ProQuest LLC\Documents\Export_20220121.csv")
rm(ls=ls())
rm(ls())
rm(list=ls())
df <- read_csv("C:\Users\AWilkins\OneDrive - ProQuest LLC\Documents\Export_20220121.csv")
df <- read_csv("\Users\AWilkins\OneDrive - ProQuest LLC\Documents\Export_20220121.csv")
df <- read_csv("`\Users\AWilkins\OneDrive - ProQuest LLC\Documents\Export_20220121.csv")
df <- read_csv("~\Users\AWilkins\OneDrive - ProQuest LLC\Documents\Export_20220121.csv")
getwd()
df <- read_csv("Export_20220121.csv")
df[1,]
df[30,]
df[31,]
df[32,]
write_excel_csv(df,"test.xls")
write_excel_csv(df,"test.xlsx")
write.xlsx(df,"test.xlsx")
library(openxlsx)
install.packages('openxlsx')
library("writexl")
install.packages('writexl')
('writexl')
install.packages('writexl')
library("writexl")
write.xlsx(df,"test.xlsx")
write_xlsx(df,"test.xlsx")
library(readxl)
write_excel_csv(df,"test.xlsx")
library(openxlsx)
install.packages('openxlsx')
write.xlsx(df,"test.xlsx")
library(openxlsx)
write.xlsx(df,"test.xlsx")
write.xlsx(df,"Export_20220121.xlsx")
warnings()
install.packages('IRkernel')
IRkernel::installspec(user = FALSE)
library(rvest)
library(tidyverse)
ls()
ls() <- rm(list(ls))
df <- readxl::read_xlsx('C:\Users\AWilkins\ProQuest LLC\TDM Studio - Documents\Published_Works.xlsx')
list.files('C:\Users\AWilkins\ProQuest LLC\TDM Studio - Documents')
list.files('C:\\Users\AWilkins\ProQuest LLC\TDM Studio - Documents')
list.files('C:\\Users\\AWilkins\\ProQuest LLC\\TDM Studio - Documents')
list.files('C:\\Users\\AWilkins\\ProQuest LLC\\TDM Studio - Documents\\\Published_Works.xlsx')
list.files('C:\\Users\\AWilkins\\ProQuest LLC\\TDM Studio - Documents\\Published_Works.xlsx')
df <- readxl::read_xlsx('C:\\Users\\AWilkins\\ProQuest LLC\\TDM Studio - Documents\\Published_Works.xlsx')
install.packages('shiny')
install.packages("shiny")
df <- read_csv('ObituariesNYT.csv') %>% select(-"X1")
library(tidyverse)
library(tidyverse)
df <- read_csv('ObituariesNYT.csv')
df <- read_csv('Obituaries_notext.csv')
list.files()
list.files('Projects')
list.files('Projects/Obituaries')
list.files('Projects/Obituaries/App')
list.files('Projects/Obituaries/App')
df <- read_csv('Obituaries_Textless.csv')
setwd('Projects/Obituaries/App')
df <- read_csv('Obituaries_Textless.csv')
dtm <- read_csv('obi_dtm.csv')
View(dtm)
df %>% count(Publisher)
df %>% count(Publisher)
shiny::runApp()
library(tidyverse)
library(lubridate)
library(data.table)
options(scipen = 10)
df <- read_csv('App/Obituaries_Textless.csv')
df$`Article ID` <- substr(df$`Article ID`,1,nchar(df$`Article ID`)-4)
dtm <- fread('App/obi_dtm.csv')
dtm$`Article ID` <- as.character(dtm$`Article ID`)
#Just the obituaries
df <- df %>%
filter(Publisher == "obituary") %>%
left_join(dtm) %>%
filter(Date < '2022-01-01')
rm(dtm)
# Sum of words per row
df <- df %>%
mutate(Lengths = rowSums(df[,5:length(df)])) %>%
filter(Lengths>100)
fwrite(df,'df.csv')
df %>%
mutate(Year=year(Date)) %>%
ggplot(aes(x=Year))+
geom_bar()
df %>%
select(Lengths,Date) %>%
mutate(Year=year(Date)) %>%
filter(Year >= '2015') %>%
ggplot(aes(x=Year,y=Lengths,group=Year)) +
geom_boxplot()
df %>%
select(Lengths,Date) %>%
mutate(Year=year(Date)) %>%
filter(Lengths > 100) %>%
ggplot(aes(x=Year))+
geom_bar()
# Adding Year and cleaning the odd short ones
df <- df %>%
mutate(Year=year(Date)) %>%
filter(Lengths > 100)
df %>%
group_by(Year) %>%
summarize(n=sum(music)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
df <- read_csv('App/Obituaries_Textless.csv')
df$`Article ID` <- substr(df$`Article ID`,1,nchar(df$`Article ID`)-4)
dtm <- fread('App/obi_dtm.csv')
dtm$`Article ID` <- as.character(dtm$`Article ID`)
#Just the obituaries
df <- df %>%
filter(Publisher == "obituary") %>%
left_join(dtm) %>%
filter(Date < '2022-01-01')
rm(dtm)
# Sum of words per row
df <- df %>%
mutate(Lengths = rowSums(df[,5:length(df)])) %>%
filter(Lengths>100)%>%
mutate(Year=year(Date))
fwrite(df,'df.csv')
df %>%
mutate(Year=year(Date)) %>%
ggplot(aes(x=Year))+
geom_bar()
df %>%
group_by(Year) %>%
count
yearly <- df %>%
group_by(Year) %>%
count
yearly <- df %>%
group_by(Year) %>%
count
fwrite(yearly,'yearly.csv')
shiny::runApp()
shiny::runApp()
library(tidyverse)
library(lubridate)
df <- read_csv('App/Obituaries_Textless.csv')
df$`Article ID` <- substr(df$`Article ID`,1,nchar(df$`Article ID`)-4)
dtm <- read_csv('App/obi_dtm.csv')
dtm$`Article ID` <- as.character(dtm$`Article ID`)
#Just the obituaries
df <- df %>%
filter(Publisher == "obituary") %>%
left_join(dtm)
rm(dtm)
library(tidyverse)
library(lubridate)
library(data.table)
options(scipen = 10)
df <- read_csv('App/Obituaries_Textless.csv')
df$`Article ID` <- substr(df$`Article ID`,1,nchar(df$`Article ID`)-4)
dtm <- fread('App/obi_dtm.csv')
dtm$`Article ID` <- as.character(dtm$`Article ID`)
#Just the obituaries
df <- df %>%
filter(Publisher == "obituary") %>%
left_join(dtm) %>%
filter(Date < '2022-01-01')
rm(dtm)
# Sum of words per row
df <- df %>%
mutate(Lengths = rowSums(df[,5:length(df)])) %>%
filter(Lengths>100)%>%
mutate(Year=year(Date))
#fwrite(df,'df.csv')
df %>%
mutate(Year=year(Date)) %>%
ggplot(aes(x=Year))+
geom_bar()
df %>%
select(Lengths,Date) %>%
mutate(Year=year(Date)) %>%
filter(Year >= '2015') %>%
ggplot(aes(x=Year,y=Lengths,group=Year)) +
geom_boxplot()
df %>%
select(Lengths,Date) %>%
mutate(Year=year(Date)) %>%
filter(Lengths > 100) %>%
ggplot(aes(x=Year))+
geom_bar()
df %>%
ggplot(aes(x=Year))+
geom_bar()
df %>%
select(Lengths,Date) %>%
filter(Year >= '2015') %>%
ggplot(aes(x=Year,y=Lengths,group=Year)) +
geom_boxplot()
df %>%
select(Lengths,Date) %>%
filter(Year >= '2015') %>%
ggplot(aes(x=Year,y=Lengths,group=Year)) +
geom_boxplot()
df %>%
ggplot(aes(x=Year))+
geom_bar()
df %>%
select(Lengths,Year) %>%
filter(Year >= '2015') %>%
ggplot(aes(x=Year,y=Lengths,group=Year)) +
geom_boxplot()
df %>%
group_by(Year) %>%
summarize(n=sum(music)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
# Example of filtering words
termPlot <- function(x){
df %>%
group_by(Year) %>%
summarize(n=sum(x)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
# Example of filtering words
termPlot <- function(x){
df %>%
group_by(Year) %>%
summarize(n=sum(x)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('music')
# Example of filtering words
termPlot <- function(x){
df %>%
group_by(Year) %>%
summarize(n=sum(x)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot(music)
# Example of filtering words
termPlot <- function(x){
df %>%
group_by(Year) %>%
summarize(n=sum(x)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot(music)
# Example of filtering words
termPlot <- function(x){
df %>%
group_by(Year) %>%
summarize(n=sum(x)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('music')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(x)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('music')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) #%>%
# rename('n'= x) %>%
# group_by(Year) %>%
# summarize(n=sum(x)) %>%
# ggplot(aes(x=Year,y=n))+
# geom_col()
}
termPlot('music')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) #%>%
# group_by(Year) %>%
# summarize(n=sum(x)) %>%
# ggplot(aes(x=Year,y=n))+
# geom_col()
}
termPlot('music')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('music')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('author')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('grandfather')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('son')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('research')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('researcher')
# Example of filtering words
termPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
termPlot('research')
runApp()
runApp()
runApp()
runApp()
df %>%
group_by(Year) %>%
count
df %>%
group_by(Year) %>%
count %>%
rename('Total' = 'n')
fwrite(yearly,'yearly.csv')
yearly <- df %>%
group_by(Year) %>%
count %>%
rename('Total' = 'n')
fwrite(yearly,'yearly.csv')
df %>%
select(Year,music) %>%
rename('n'= music) %>%
inner_join(yearly)
df %>%
select(Year,music) %>%
rename('n'= music) %>%
inner_join(yearly) %>%
group_by(Year) %>%
summarize(n=sum(n)
)
df %>%
select(Year,music) %>%
rename('n'= music) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
inner_join(yearly)
df %>%
select(Year,music) %>%
rename('n'= music) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
inner_join(yearly) %>%
mutate(n = n/Total)
ggplot(aes(x=Year,y=n))+
geom_col()
df %>%
select(Year,music) %>%
rename('n'= music) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
inner_join(yearly) %>%
mutate(n = n/Total) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
ratioPlot <- function(x){
df %>%
select(Year,x) %>%
rename('n'= x) %>%
group_by(Year) %>%
summarize(n=sum(n)) %>%
inner_join(yearly) %>%
mutate(n = n/Total) %>%
ggplot(aes(x=Year,y=n))+
geom_col()
}
ratioPlot('music')
runApp()
shiny::runApp('~/Projects/AJRC/ShinyApp')
shiny::runApp()
runApp()
library(tidyverse)
library(lubridate)
install.packages('ggthemes')
runApp()
